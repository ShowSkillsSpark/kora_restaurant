import{r as e}from"./phaser-y5S3hZEA.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t=e();const a=1600,s=900;var i=(e=>(e.POT="냄비",e.STEAMER="찜기",e.CUP="컵",e))(i||{}),o=(e=>(e.RICE_CAKE="떡",e.SAUCE="떡볶이소스",e.FISH_CAKE="어묵",e.SPRING_ONION="파",e.NOODLE="면",e.RAMEN_SOUP="라면스프",e.EGG="계란",e.SESAME="참깨",e.SUNDAE="순대",e.DUMPLING="만두",e.WATER="물",e.CIDER="사이다",e.COLA="콜라",e))(o||{}),n=(e=>(e.KORA_TTEOKBOKKI="코라떡볶이",e.JAKO_RAMEN="쟈코라면",e.NANDE_SUNDAE="난데순대",e.DAEDU_DUMPLING="대두왕만두",e.TAP_WATER="수돗물",e.URU_CIDER="우루사이다",e.KORA_COLA="코라콜라",e))(n||{});const r=[["모구모구","우마이!"],["맛있게 먹었습니다~"],["우마이!","오츠레이!"],["음~","오츠코라"],["음!","약해보이는데... 의외로 맛있네?"]];class d extends t.GameObjects.Container{constructor(e,t,a,s,i,o){super(e,t,a),e.add.existing(this),this.scene=e,this.remain_time=o,this.elapsed=0,sessionStorage.setItem("earn","0");const n=e.add.text(-s/4-100,0,"남은 시간",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5);this.time_text=e.add.text(-s/4+100,0,this.remain_time+" 초",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setPadding(10),this.add([n,this.time_text]);const r=e.add.text(s/4-100,0,"매출",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5);this.earn_text=e.add.text(s/4+100,0,"0 치즈",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setPadding(10),this.add([r,this.earn_text]);const d=e.add.text(0,0,"레시피 보기",{fontSize:i/1.7,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setInteractive();d.on("pointerup",(()=>{e.scene.launch("Recipe")})),d.on("pointerover",(()=>{e.tweens.add({targets:d,duration:100,scale:1.1})})),d.on("pointerout",(()=>{e.tweens.add({targets:d,duration:100,scale:1})})),this.add(d);const l=e.add.text(s/2-s/100,0,"영업종료",{fontSize:i/1.7,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(1,.5).setInteractive().on("pointerdown",(()=>{e.scene.start("GameOver")}));l.on("pointerover",(()=>{e.tweens.add({targets:l,duration:100,scale:1.1})})),l.on("pointerout",(()=>{e.tweens.add({targets:l,duration:100,scale:1})})),this.add(l),this.remain_timer=e.time.addEvent({delay:1e3,callback:()=>{this.elapsed+=1,this.elapsed>this.remain_time?e.scene.start("GameOver"):this.time_text.setText(this.remain_time-this.elapsed+" 초")},loop:!0,paused:!0})}resetTimer(){this.remain_timer.paused=!0,this.elapsed=0}startTimer(){this.remain_timer.paused=!1}addEarn(e){let t=parseInt(sessionStorage.getItem("earn")||"0");t+=e,sessionStorage.setItem("earn",t.toString()),this.earn_text.setText(t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" 치즈"),this.scene.sound.play("pay1",{volume:.5});const a=Math.random();a<.05?this.scene.sound.play("pay3",{volume:.5}):a<.2?this.scene.sound.play("pay4",{volume:.5}):this.scene.sound.play("pay2",{volume:.5})}static preload(e){e.load.setPath("assets/MainGame"),e.load.audio("pay1","audio/06.계산.mp3"),e.load.audio("pay2","audio/thx_0.wav"),e.load.audio("pay3","audio/voice_7.wav"),e.load.audio("pay4","audio/voice_9.wav"),e.load.image("help","help.png")}}const l=class{constructor(e,t,a,s,i,o,n){this.name=e,this.base_price=t,this.plus_price=a,this.tool_name=s,this.necessary=new Set(i),this.plus=new Set(o),this.temperature_range=n}calculatePrice(e){if(this.tool_name!=e.name)return 0;let t=0,a=0;if(e.box.forEach((e=>{this.necessary.has(e)?t+=1:this.plus.has(e)?a+=1:a-=3})),t<this.necessary.size)return 0;let s=0;for(let i of this.temperature_range){const t=i[0];if(!(e.temperature>t))break;s=i[1]}return this.base_price+(a+s)*this.plus_price}toString(){return this.name}};l.kora_tteokbokki=new l(n.KORA_TTEOKBOKKI,4e3,200,i.POT,[o.WATER,o.RICE_CAKE,o.SAUCE],[o.FISH_CAKE,o.SPRING_ONION,o.EGG,o.SESAME,o.NOODLE],[[0,-8],[5,1],[8,2],[10,-8]]),l.jako_ramen=new l(n.JAKO_RAMEN,4e3,200,i.POT,[o.WATER,o.NOODLE,o.RAMEN_SOUP],[o.FISH_CAKE,o.SPRING_ONION,o.EGG,o.SESAME,o.DUMPLING,o.RICE_CAKE],[[0,-8],[5,1],[8,2],[10,-8]]),l.nande_sundae=new l(n.NANDE_SUNDAE,3e3,150,i.STEAMER,[o.WATER,o.SUNDAE],[],[[0,-6],[5,1],[8,2],[10,-6]]),l.daedu_dumpling=new l(n.DAEDU_DUMPLING,3e3,150,i.STEAMER,[o.WATER,o.DUMPLING],[],[[0,-6],[5,1],[8,2],[10,-6]]),l.tap_water=new l(n.TAP_WATER,1e3,100,i.CUP,[o.WATER],[],[[0,0]]),l.uru_cider=new l(n.URU_CIDER,1e3,100,i.CUP,[o.CIDER],[],[[0,0]]),l.kora_cola=new l(n.KORA_COLA,1e3,100,i.CUP,[o.COLA],[],[[0,0]]);let h=l;class c extends t.GameObjects.Container{constructor(e,t,a,s,i,o){super(e,t,a),this.requirement_list=[],this.tool_list=[],this.cost=0,this.gender="man",this.step=6,this.progress=[],this.progress_index=0,this.tap_water_only_flag=!1,e.add.existing(this),this.setSize(s,i),this.text_bg=e.add.image(0,-i/10,"talk").setOrigin(.5),this.text_bg.setScale(s/this.text_bg.width,i/this.text_bg.height*.7),this.cost_text=e.add.text(0,3*i/20,"+0 치즈",{fontSize:.25*i,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setPadding(10),this.text=e.add.text(0,-3*i/20,"콘레이",{fontSize:.15*i,color:"#000000",fontFamily:"StudyHard",wordWrap:{width:.9*s}}).setOrigin(.5).setPadding(10),this.updateText(),this.face=e.add.image(0,7*i/20,this.gender+this.step).setOrigin(.5),this.face.setScale(i/this.face.height*.7),this.initFace(),this.updateFace(),this.zone=e.add.zone(0,0,s,i).setRectangleDropZone(s,i).setName("order"),this.zone.setData("order",this),this.add([this.cost_text,this.text_bg,this.text,this.face,this.zone]),this.progress_timer=e.time.addEvent({delay:1e3,callback:()=>{this.progress_index+=1,this.progress_index<this.progress.length?this.text.setText(this.progress[this.progress_index]):(this.tool_list.forEach((e=>{e.returnTool()})),this.hide=!0,this.respawn_timer.paused=!1,o(this.cost),this.cost=0,this.progress_timer.paused=!0)},loop:!0,paused:!0}),this.respawn_timer=e.time.addEvent({delay:1e3,callback:()=>{this.newOrder()},loop:!1,paused:!0}),this.hide=!1}submit(e){e.disableInteractive(),this.tool_list.push(e);const t=this.tool_list.length;this.tool_list.forEach(((e,a)=>{const s=this.x-this.width/2+(a+1)*this.width/(t+1),i=this.y+3*this.height/8;e.move(s,i)}));let a=null,s=0;this.requirement_list.forEach(((t,i)=>{const o=t.calculatePrice(e);o>s&&(a=i,s=o)})),null!=a?(this.requirement_list.splice(a,1),this.updateText(),this.cost+=s,this.step=Math.min(this.step+1,9)):this.tap_water_only_flag?(this.step=8,this.cost=9e3,this.updateFace()):this.step=Math.max(this.step-1,0),this.updateFace(),0==this.requirement_list.length?(this.cost_text.setText("+"+this.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" 치즈"),this.progress_timer.paused=!1,this.scene.sound.play("eat"+Math.floor(1*Math.random()+1),{volume:.05})):this.scene.sound.play("ingredient1",{volume:.1,seek:.15})}updateText(){if(this.requirement_list.length>0){const e=this.requirement_list.join(", ")+" 주세요.";this.text.setText(e)}else this.text.setText(this.progress[this.progress_index])}initFace(){const e=["man","woman"];this.gender=e[Math.floor(Math.random()*e.length)],this.step=6}updateFace(){this.face.setTexture(this.gender+this.step),this.face.update()}randomRequirementList(){const e=[],t="true"===sessionStorage.getItem("tap_water_only_flag")?[null]:[h.kora_tteokbokki,h.jako_ramen,h.nande_sundae,h.daedu_dumpling,null,null,null],a=[h.tap_water,h.uru_cider,h.kora_cola,null],s=t[Math.floor(Math.random()*t.length)],i=s?a[Math.floor(Math.random()*a.length)]:h.tap_water;return s&&e.push(s),i&&e.push(i),e}randomProgress(){return r[Math.floor(Math.random()*r.length)]}newOrder(){this.initFace(),this.updateFace(),this.requirement_list=this.randomRequirementList(),this.updateText(),this.tool_list=[],this.cost=0,this.progress=this.randomProgress(),this.progress_index=0,this.progress_timer.paused=!0,this.respawn_timer.reset({delay:1e3,callback:()=>{this.newOrder()},loop:!1,paused:!0}),this.hide=!1,this.tap_water_only_flag=1==this.requirement_list.length&&this.requirement_list[0]===h.tap_water}set hide(e){e?this.zone.disableInteractive():this.zone.setInteractive(),this.text_bg.visible=!e,this.text.visible=!e,this.face.visible=!e,this.cost_text.visible=e}static preload(e){e.load.setPath("assets/MainGame"),e.load.image("talk","fukidashi_pop06.png"),e.load.image("man0","face_angry_man5.png"),e.load.image("man1","face_angry_man4.png"),e.load.image("man2","face_angry_man3.png"),e.load.image("man3","face_angry_man2.png"),e.load.image("man4","face_angry_man1.png"),e.load.image("man5","face_smile_man1.png"),e.load.image("man6","face_smile_man2.png"),e.load.image("man7","face_smile_man3.png"),e.load.image("man8","face_smile_man4.png"),e.load.image("man9","face_smile_man5.png"),e.load.image("woman0","face_angry_woman5.png"),e.load.image("woman1","face_angry_woman4.png"),e.load.image("woman2","face_angry_woman3.png"),e.load.image("woman3","face_angry_woman2.png"),e.load.image("woman4","face_angry_woman1.png"),e.load.image("woman5","face_smile_woman1.png"),e.load.image("woman6","face_smile_woman2.png"),e.load.image("woman7","face_smile_woman3.png"),e.load.image("woman8","face_smile_woman4.png"),e.load.image("woman9","face_smile_woman5.png"),e.load.audio("eat1","audio/04. 한입.mp3")}}class g extends t.GameObjects.Container{constructor(e,t,a,s,i){super(e,t,a),e.add.existing(this);const o=e.add.plane(0,i/2,"wood").setDisplaySize(1.15*s,i);o.rotateX=-30,this.add([o])}static preload(e){e.load.setPath("assets/MainGame"),e.load.image("wood","wood_texture.jpg")}}class m extends t.GameObjects.Container{constructor(e,t,a,s,i,o){super(e,t,a),e.add.existing(this),this.returnX=t,this.returnY=a,this.name=o;const n=e.add.image(0,0,o).setScale(.45),r=e.add.text(0,0,o,{fontSize:.7*i,color:"#000000",fontFamily:"StudyHard",stroke:"#ffffff",strokeThickness:2}).setOrigin(.5).setPadding(10);this.add([n,r]),this.setSize(s,i).setInteractive({draggable:!0}),this.on("dragstart",(t=>{e.children.bringToTop(this)})),this.on("drag",((e,t,a)=>{this.setPosition(t,a)})),this.on("dragend",((e,t,a,s)=>{this.setPosition(this.returnX,this.returnY)})),this.on("drop",((e,t)=>{const a=t.getData("tool");a&&a.putIngredient(this.name),this.setPosition(this.returnX,this.returnY)}))}static preload(e){e.load.setPath("assets/MainGame"),e.load.audio("ingredient1","audio/20. 불쑥.mp3"),e.load.image("empty","empty.png"),e.load.image(o.RICE_CAKE,"rice_cake.png"),e.load.image(o.NOODLE,"noodle.png"),e.load.image(o.SAUCE,"sauce.png"),e.load.image(o.RAMEN_SOUP,"soup.png"),e.load.image(o.FISH_CAKE,"fish_cake.png"),e.load.image(o.EGG,"egg.png"),e.load.image(o.SPRING_ONION,"spring_onion.png"),e.load.image(o.SESAME,"sesame.png"),e.load.image(o.SUNDAE,"sundae.png"),e.load.image(o.DUMPLING,"dumpling.png")}}class p extends t.GameObjects.Container{constructor(e,t,a,s,i,o){super(e,t,a),e.add.existing(this),this.width=s,this.height=i,this.name=o;const n=e.add.image(0,i/8,"tray").setScale(.28);this.add(n)}createIngredients(){const e=this.parentContainer.x+this.x,t=this.parentContainer.y+this.y,a=.8*this.width,s=.8*this.height;new m(this.scene,e,t,a,s,this.name),new m(this.scene,e,t,a,s,this.name)}static preload(e){e.load.setPath("assets/MainGame"),e.load.image("tray","tray.png")}}class u extends t.GameObjects.Container{constructor(e,t,a,s,i,o){super(e,t,a),e.add.existing(this),this.name=o;const n=e.add.image(0,-i/10,"tap").setScale(.8),r=e.add.image(0,0,"below"),d=e.add.text(0,i/20,o,{fontSize:i/3,color:"#000000",fontFamily:"StudyHard",stroke:"#ffffff",strokeThickness:i/30}).setOrigin(.5).setPadding(10),l=e.add.zone(0,0,s,i).setRectangleDropZone(s,i).setName("tap");l.setData("tool",null),this.add([d,l]),this.add([n,r])}static preload(e){e.load.setPath("assets/MainGame"),e.load.image("tap","dispenser_tap.png"),e.load.image("below","dispenser_below.png")}}class _ extends t.GameObjects.Container{constructor(e,t,a,s,i){super(e,t,a),e.add.existing(this);const n=new p(e,-7*s/16,-i/4,s/8,i/2,o.RICE_CAKE),r=new p(e,-5*s/16,-i/4,s/8,i/2,o.SAUCE),d=new p(e,-3*s/16,-i/4,s/8,i/2,o.FISH_CAKE),l=new p(e,-1*s/16,-i/4,s/8,i/2,o.SPRING_ONION),h=new p(e,1*s/16,-i/4,s/8,i/2,o.SUNDAE),c=new p(e,-7*s/16,i/4,s/8,i/2,o.NOODLE),g=new p(e,-5*s/16,i/4,s/8,i/2,o.RAMEN_SOUP),m=new p(e,-3*s/16,i/4,s/8,i/2,o.EGG),_=new p(e,-1*s/16,i/4,s/8,i/2,o.SESAME),f=new p(e,1*s/16,i/4,s/8,i/2,o.DUMPLING),S=new u(e,3*s/16,0,s/8,i,o.WATER),x=new u(e,5*s/16,0,s/8,i,o.CIDER),w=new u(e,7*s/16,0,s/8,i,o.COLA);this.add([n,r,d,l,h,c,g,m,_,f,S,x,w]),[n,r,d,l,h,c,g,m,_,f].forEach((e=>{e.createIngredients()}))}}class f extends t.GameObjects.Container{constructor(e,t,a,s,i){super(e,t,a),e.add.existing(this);const o=e.add.image(0,0,"aaa").setOrigin(.5,0).setScale(.7),n=e.add.zone(0,0,s,i).setRectangleDropZone(s,i).setName("burner");n.setData("tool",null),this.add([o,n])}static preload(e){e.load.setPath("assets/MainGame"),e.load.image("aaa","burner.png")}}class S extends t.GameObjects.Container{constructor(e,t,a,s,i){super(e,t,a),e.add.existing(this),this.trash_image=e.add.image(0,0,"trash_close").setScale(.25);const o=e.add.zone(0,0,s,i).setRectangleDropZone(s,i).setName("trash");o.setData("open",(()=>{this.trash_image.setTexture("trash_open")})),o.setData("close",(()=>{this.trash_image.setTexture("trash_close")})),this.add([this.trash_image,o])}static preload(e){e.load.setPath("assets/MainGame"),e.load.image("trash_open","trash_open.png"),e.load.image("trash_close","trash_close.png")}}class x extends t.GameObjects.Container{constructor(e,t,a,s,n,r){super(e,t,a),this.lastZone=null,this.tool_image={},this.box=new Set,e.add.existing(this),this.scene=e,this.toolX=t,this.toolY=a,this.returnX=t,this.returnY=a,this.name=r,this.temperature=0,this.temperatureEvent=e.time.addEvent({delay:1e3,callback:()=>this.increaseTemperature(),loop:!0,paused:!0}),this.tool_image.empty=e.add.image(0,-n/4,"empty").setScale(.35),this.tool_image[i.CUP]=e.add.image(0,0,"cup").setOrigin(.5,.3).setScale(.15).setAlpha(.9),this.tool_image.cup_water=e.add.image(0,0,"cup_water").setOrigin(.5,.3).setScale(.15).setAlpha(.9),this.tool_image.cup_cider=e.add.image(0,0,"cup_cider").setOrigin(.5,.3).setScale(.15).setAlpha(.9),this.tool_image.cup_cola=e.add.image(0,0,"cup_cola").setOrigin(.5,.3).setScale(.15).setAlpha(.9),this.tool_image.cup_fail=e.add.image(0,0,"cup_fail").setOrigin(.5,.3).setScale(.15).setAlpha(.9),this.tool_image[i.POT]=e.add.image(0,0,"pot_bg").setOrigin(.5,.3).setScale(.3),this.tool_image[o.RICE_CAKE]=e.add.image(-s/6,n/8,o.RICE_CAKE).setScale(.3),this.tool_image[o.NOODLE]=e.add.image(0,n/8,o.NOODLE).setScale(.35),this.tool_image[o.FISH_CAKE]=e.add.image(s/6,n/8,o.FISH_CAKE).setScale(.35),this.tool_image.water_blue=e.add.image(0,n/6,"pot_water").setScale(.3),this.tool_image.water_red=e.add.image(0,n/6,"pot_water_red").setScale(.3),this.tool_image.water_orange=e.add.image(0,n/6,"pot_water_orange").setScale(.3),this.tool_image[o.SPRING_ONION]=e.add.image(-s/8,n/16,"spring_onion_topping").setScale(.1),this.tool_image[o.SESAME]=e.add.image(0,0,"sesame_topping").setScale(.2),this.tool_image[o.EGG]=e.add.image(s/6,0,o.EGG).setScale(.2),this.tool_image.pot_fail=e.add.image(0,0,"failed_food").setScale(.35),this.tool_image.pot_front=e.add.image(0,0,"pot_front").setOrigin(.5,.3).setScale(.3),this.tool_image[i.STEAMER]=e.add.image(0,0,"steamer").setOrigin(.5,.5).setScale(.25),this.tool_image.steamer_water=e.add.image(0,0,"steamer_water").setOrigin(.5,.5).setScale(.25),this.tool_image[o.SUNDAE]=e.add.image(0,-n/2.5,"sundae").setScale(.35),this.tool_image[o.DUMPLING]=e.add.image(0,-n/2.5,"dumpling").setScale(.35),this.tool_image.steamer_fail=e.add.image(0,-n/2.5,"failed_food").setScale(.35),this.tool_image.food=e.add.image(0,0,"empty").setOrigin(.5,.2).setScale(.3),this.updateToolImage(),this.fire_image=e.add.image(0,0,"burner_fire").setOrigin(.5,0).setScale(.8),this.heating=!1,this.vapor_image=e.add.image(0,-n/2,"empty").setOrigin(.5).setScale(.3),this.name===i.STEAMER&&this.vapor_image.setY(-n/1.2);for(let i in this.tool_image)this.add(this.tool_image[i]);this.add([this.fire_image,this.vapor_image]),this.setSize(s,n).setInteractive({draggable:!0}),this.on("dragstart",(t=>{e.children.bringToTop(this),this.heating=!1})),this.on("drag",((e,t,a)=>{this.setPosition(t,a)})),this.on("dragend",((e,t,a,s)=>{s||this.move(this.returnX,this.returnY)})),this.on("drop",((t,a)=>{var s,o,n;switch(a.name){case"burner":this.name===i.CUP||a.getData("tool")||(null==(s=this.lastZone)||s.setData("tool",null),a.setData("tool",this),this.lastZone=a,this.returnX=a.parentContainer.parentContainer.x+a.parentContainer.x+a.x,this.returnY=a.parentContainer.parentContainer.y+a.parentContainer.y+a.y),this.move(this.returnX,this.returnY);break;case"tap":a.getData("tool")?this.move(this.returnX,this.returnY):(null==(o=this.lastZone)||o.setData("tool",null),a.setData("tool",this),this.lastZone=a,this.returnX=a.parentContainer.parentContainer.x+a.parentContainer.x+a.x,this.returnY=a.parentContainer.parentContainer.y+a.parentContainer.y+a.y,this.move(this.returnX,this.returnY),this.putIngredient(a.parentContainer.name));break;case"trash":this.returnTool(),e.sound.play("trash",{volume:.3}),a.getData("close")();break;case"order":this.name===i.CUP&&0==this.box.size?this.move(this.returnX,this.returnY):this.name!==i.POT&&this.name!==i.STEAMER||0!=this.temperature?(null==(n=this.lastZone)||n.setData("tool",null),this.lastZone=a,this.updateFoodImage(),this.vapor_image.setTexture("empty"),a.getData("order").submit(this)):this.move(this.returnX,this.returnY)}})),this.on("dragenter",((e,t)=>{"trash"===t.name&&t.getData("open")()})),this.on("dragleave",((e,t)=>{"trash"===t.name&&t.getData("close")()}))}putIngredient(e){this.box.add(e),this.move(this.returnX,this.returnY),this.scene.sound.play("tap1",{volume:.4}),this.updateToolImage()}updateImage(e,t=!0){if(t)for(let a in this.tool_image)this.hideImage(a);this.tool_image[e].visible=!0}hideImage(e){this.tool_image[e].visible=!1}updateCupImage(){0==this.box.size?this.updateImage(i.CUP):1==this.box.size&&this.box.has(o.WATER)?this.updateImage("cup_water"):1==this.box.size&&this.box.has(o.CIDER)?this.updateImage("cup_cider"):1==this.box.size&&this.box.has(o.COLA)?this.updateImage("cup_cola"):this.updateImage("cup_fail")}updatePotImage(){if(0==this.box.size&&(this.updateImage(this.name),this.updateImage("pot_front",!1)),this.box.has(o.SUNDAE)||this.box.has(o.DUMPLING)||this.box.has(o.CIDER)||this.box.has(o.COLA))this.updateImage("pot_fail",!1);else if(this.box.has(o.SAUCE)&&this.box.has(o.RAMEN_SOUP))this.updateImage("pot_fail",!1);else if(this.temperature>10)this.updateImage("pot_fail",!1);else{!this.box.has(o.WATER)||this.box.has(o.SAUCE)||this.box.has(o.RAMEN_SOUP)?this.box.has(o.WATER)&&this.box.has(o.SAUCE)&&!this.box.has(o.RAMEN_SOUP)?(this.hideImage("water_blue"),this.updateImage("water_red",!1)):this.box.has(o.WATER)&&!this.box.has(o.SAUCE)&&this.box.has(o.RAMEN_SOUP)&&(this.hideImage("water_blue"),this.updateImage("water_orange",!1)):this.updateImage("water_blue",!1);for(let e of this.box)[o.WATER,o.SAUCE,o.RAMEN_SOUP].includes(e)||this.updateImage(e,!1)}}updateSteamerImage(){if(this.temperature>10)return this.updateImage(this.name),void this.updateImage("steamer_fail",!1);0==this.box.size?this.updateImage(this.name):1==this.box.size&&this.box.has(o.WATER)?this.updateImage("steamer_water"):1==this.box.size&&this.box.has(o.DUMPLING)?this.updateImage(o.DUMPLING,!1):1==this.box.size&&this.box.has(o.SUNDAE)?this.updateImage(o.SUNDAE,!1):2==this.box.size&&this.box.has(o.WATER)&&this.box.has(o.DUMPLING)?(this.updateImage("steamer_water"),this.updateImage(o.DUMPLING,!1)):2==this.box.size&&this.box.has(o.WATER)&&this.box.has(o.SUNDAE)?(this.updateImage("steamer_water"),this.updateImage(o.SUNDAE,!1)):(this.updateImage(this.name),this.updateImage("steamer_fail",!1))}updateToolImage(){this.name===i.CUP?this.updateCupImage():this.name===i.POT?this.updatePotImage():this.name===i.STEAMER&&this.updateSteamerImage()}updateFoodImage(){let e="괴식";if(this.temperature<=10)if(this.name==i.POT)this.box.size>=3&&this.box.has(o.WATER)&&(this.box.has(o.SAUCE)&&this.box.has(o.RAMEN_SOUP)?e="괴식":this.box.has(o.SAUCE)&&this.box.has(o.RICE_CAKE)?e=n.KORA_TTEOKBOKKI:this.box.has(o.RAMEN_SOUP)&&this.box.has(o.NOODLE)&&(e=n.JAKO_RAMEN));else{if(this.name!=i.STEAMER)return;2==this.box.size&&this.box.has(o.WATER)&&(this.box.has(o.DUMPLING)?e=n.DAEDU_DUMPLING:this.box.has(o.SUNDAE)&&(e=n.NANDE_SUNDAE))}this.tool_image.food.setTexture(e),this.updateImage("food")}returnTool(){var e;null==(e=this.lastZone)||e.setData("tool",null),this.lastZone=null,this.returnX=this.toolX,this.returnY=this.toolY,this.move(this.returnX,this.returnY),this.box.clear(),this.temperature=0,this.vapor_image.setTexture("empty"),this.setInteractive(),this.updateToolImage()}set heating(e){this.temperatureEvent.paused&&e&&this.scene.sound.play("fire1",{volume:.7,seek:.2}),this.temperatureEvent.paused=!e,this.fire_image.visible=e}move(e,t){var a;this.setPosition(e,t),"burner"===(null==(a=this.lastZone)?void 0:a.name)&&this.box.size>0?this.heating=!0:this.heating=!1}increaseTemperature(){this.temperature=Math.min(this.temperature+1,200),this.temperature>10?this.vapor_image.setTexture("vapor_4"):this.temperature>8?this.vapor_image.setTexture("vapor_3"):this.temperature>5?this.vapor_image.setTexture("vapor_2"):this.temperature>0&&this.vapor_image.setTexture("vapor_1"),11==this.temperature&&this.scene.sound.play("fizz",{volume:.4,seek:.3}),this.updateToolImage()}static preload(e){e.load.setPath("assets/MainGame"),e.load.audio("fire1","audio/22. 중간 훅.wav"),e.load.audio("fire2","audio/23. 중간 훅2.wav"),e.load.audio("trash","audio/13.훅.mp3"),e.load.audio("tap1","audio/09. 뿅.mp3"),e.load.audio("tap2","audio/18. 뾱.mp3"),e.load.image("cup","amount_water_glass1.png"),e.load.image("cup_water","amount_water_glass3.png"),e.load.image("cup_cider","soda6_skyblue.png"),e.load.image("cup_cola","soda8_purple.png"),e.load.image("cup_fail","cup_fail.png"),e.load.image("pot_front","pot_front.png"),e.load.image("pot_bg","pot_bg.png"),e.load.image("pot_water","pot_water.png"),e.load.image("pot_water_red","pot_water_red.png"),e.load.image("pot_water_orange","pot_water_orange.png"),e.load.image("spring_onion_topping","spring_onion_topping.png"),e.load.image("sesame_topping","sesame_topping.png"),e.load.image("steamer","steamer.png"),e.load.image("steamer_water","steamer_water.png"),e.load.image("empty","empty.png"),e.load.image("dumpling","dumpling.png"),e.load.image("sundae","sundae.png"),e.load.image("failed_food","failed_food.png"),e.load.image(n.KORA_TTEOKBOKKI,"떡볶이.png"),e.load.image(n.JAKO_RAMEN,"라면.png"),e.load.image(n.DAEDU_DUMPLING,"만두.png"),e.load.image(n.NANDE_SUNDAE,"순대.png"),e.load.image("괴식","괴식.png"),e.load.image("burner_fire","burner_fire.png"),e.load.image("vapor_1","vapor_1.png"),e.load.image("vapor_2","vapor_2.png"),e.load.image("vapor_3","vapor_3.png"),e.load.image("vapor_4","vapor_4.png"),e.load.audio("fizz","audio/fizz.mp3")}}class w extends t.GameObjects.Container{constructor(e,t,a,s,i,o){super(e,t,a),e.add.existing(this),this.scene=e,this.width=s,this.height=i,this.name=o}createTools(){const e=.75*this.width,t=.75*this.height,a=this.parentContainer.x+this.x,s=this.parentContainer.y+this.y-.1*t;new x(this.scene,a,s,e,t,this.name),new x(this.scene,a,s,e,t,this.name),new x(this.scene,a,s,e,t,this.name),new x(this.scene,a,s,e,t,this.name),new x(this.scene,a,s,e,t,this.name)}}class E extends t.GameObjects.Container{constructor(e,t,a,s,o){super(e,t,a),e.add.existing(this);const n=new f(e,-7*s/16,0,s/8,.7*o),r=new f(e,-5*s/16,0,s/8,.7*o),d=new f(e,-3*s/16,0,s/8,.7*o),l=new f(e,-1*s/16,0,s/8,.7*o),h=new w(e,1*s/16,0,s/8,.7*o,i.POT),c=new w(e,3*s/16,0,s/8,.7*o,i.STEAMER),g=new w(e,5*s/16,0,s/8,.7*o,i.CUP),m=new S(e,7*s/16,0,s/8,.7*o);this.add([n,r,d,l,h,c,g,m]),[h,c,g].forEach((e=>{e.createTools()}))}}class y extends t.Scene{constructor(){super("MainGame")}create(){var e;const t=this.add.image(800,450-s/7,"background").setOrigin(.5);t.setScale(Math.max(a/t.width,s/t.height)),null==(e=t.preFX)||e.addBlur(0,2,2,1);const i=new d(this,800,45,a,90,60),o=400,n=315;this.order_0=new c(this,200,225,o,n,(e=>i.addEarn(e))),this.order_1=new c(this,600,225,o,n,(e=>i.addEarn(e))),this.order_2=new c(this,1e3,225,o,n,(e=>i.addEarn(e))),this.order_3=new c(this,1400,225,o,n,(e=>i.addEarn(e))),new g(this,800,405,a,90),this.add.rectangle(800,540,a,180,10528449,1),this.add.rectangle(800,765,a,270,10528449,1),new _(this,800,540,a,180),new E(this,800,765,a,270),this.order_0.newOrder(),this.order_1.newOrder(),this.order_2.newOrder(),this.order_3.newOrder();const r=()=>{i.startTimer(),this.input.off("pointerup",r)};this.input.on("pointerup",r)}static preload(e){e.load.setPath("assets/MainGame"),e.load.image("background","background.jpg"),d.preload(e),c.preload(e),x.preload(e),g.preload(e),m.preload(e),u.preload(e),f.preload(e),p.preload(e),S.preload(e)}}class O extends t.GameObjects.Container{constructor(e,t,a,s,i,o){super(e,t,a),e.add.existing(this),this.setSize(s,i);const n=e.add.graphics().fillStyle(5724278,.8).fillRoundedRect(-s/2,-i/2,s,i,.3*i).setDepth(0),r=e.add.text(0,0,o,{fontFamily:"Jalnan",fontSize:"60px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(1).setPadding(20);this.add([n,r]),this.on("pointerover",(()=>{e.tweens.add({targets:this,scale:1.2,duration:50})})),this.on("pointerout",(()=>{e.tweens.add({targets:this,scale:1,duration:50})}))}}class v extends t.GameObjects.Container{constructor(e,t,a){super(e,t,a),e.add.existing(this);const s=e.add.text(-250,-100,"신장개업",{fontFamily:"Jalnan",fontSize:"60px",color:"#ee0000",stroke:"#ffffff",strokeThickness:5,shadow:{offsetX:5,offsetY:5,blur:5,stroke:!1}}).setOrigin(.5).setDepth(1).setPadding(20).setAngle(-5),i=e.add.text(0,0,"코 라 분 식",{fontFamily:"Jalnan",fontSize:"150px",color:"#ffffff",stroke:"#000000",strokeThickness:10,shadow:{offsetX:5,offsetY:5,blur:5,stroke:!1}}).setOrigin(.5).setDepth(1).setPadding(20);this.add([i,s])}}class I extends t.Scene{constructor(){super("MainMenu"),this.start_offset=Math.floor(4*Math.random())}create(){let e=Math.floor(4*Math.random());const t=this.add.image(800,450,"MainMenu_background_"+e).setOrigin(.5).setScale(.7);this.time.addEvent({delay:4e3,callback:()=>{e=(e+1)%4,t.setTexture("MainMenu_background_"+e)},loop:!0,paused:!1});let i="true"===sessionStorage.getItem("tap_water_only_flag");const o=(localStorage.getItem(i?"high_score_tap":"high_score")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,","),n=this.add.text(1584,9,"최고점수: "+o+" 치즈",{fontSize:45,color:i?"#ffffcc":"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(1,0),r=this.add.image(16,9,"cup_water").setScale(.1).setAlpha(i?1:.6).setOrigin(0).setInteractive().on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),i=!i,sessionStorage.setItem("tap_water_only_flag",i.toString()),r.setAlpha(i?1:.6);const e=(localStorage.getItem(i?"high_score_tap":"high_score")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",");n.setText("최고점수: "+e+" 치즈").setColor(i?"#ffffcc":"#ffffff")}));new v(this,800,270);const d=a/3;new O(this,800,435,d,90,"영업 시작").setInteractive().on("pointerup",(e=>{this.sound.play("welcome_0",{volume:.7}),this.scene.start("MainGame")})),new O(this,800,555,d,90,"레시피").setInteractive().on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scene.launch("Recipe")})),new O(this,800,675,d,90,"환경설정").setInteractive().on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scene.launch("Settings")})),new O(this,800,795,d,90,"크레딧").on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scene.launch("Credits")})).setInteractive(),this.add.text(16,s,"v2025.06.07.",{fontSize:30,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:3}).setOrigin(0,1),this.sound.getAllPlaying().forEach((e=>{e.stop()}));const l=Math.floor(6*Math.random());this.sound.play("MainMenu_bgm_"+l,{volume:.3,loop:!0,rate:1})}static preload(e){e.load.setPath("assets/MainMenu"),e.load.audio("welcome_0","welcome_0.wav"),e.load.image("MainMenu_background_0","봄.jpg"),e.load.image("MainMenu_background_1","여름.jpg"),e.load.image("MainMenu_background_2","가을.jpg"),e.load.image("MainMenu_background_3","겨울.jpg"),e.load.audio("MainMenu_bgm_0","Five Card Shuffle.webm"),e.load.audio("MainMenu_bgm_1","Wallpaper.mp3"),e.load.audio("MainMenu_bgm_2","Radio Martini.mp3"),e.load.audio("MainMenu_bgm_3","Hyperfun.mp3"),e.load.audio("MainMenu_bgm_4","Fig Leaf Rag.mp3"),e.load.audio("MainMenu_bgm_5","Look Busy.mp3")}}class b extends t.Scene{constructor(){super("GameOver")}create(){const e="true"===sessionStorage.getItem("tap_water_only_flag"),t=this.add.text(0,0," 찰칵! ",{fontSize:45,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:2}).setOrigin(0,0).setInteractive();t.on("pointerup",(()=>{const e=this.game.canvas.toDataURL("image/png"),t="kora_restaurant_"+Date.now()+".png",a=document.createElement("a");a.download=t,a.href=e,a.click(),this.sound.play("screenshot",{volume:.4})})),t.on("pointerover",(()=>{this.scene.scene.tweens.add({targets:t,scale:.8,duration:50})})),t.on("pointerout",(()=>{this.scene.scene.tweens.add({targets:t,scale:1,duration:50})}));const a=sessionStorage.getItem("earn")||"0",s=a.replace(/\B(?=(\d{3})+(?!\d))/g,",")+" 치즈",i=this.add.text(800,225,"최종점수: "+s,{fontSize:180,color:e?"#ffffcc":"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5);if(this.add.tween({targets:i,scale:1.05,duration:800,repeat:-1,yoyo:!0}),e){const e=localStorage.getItem("high_score_tap")||"0";localStorage.setItem("high_score_tap",parseInt(e)>parseInt(a)?e:a)}else{const e=localStorage.getItem("high_score")||"0";localStorage.setItem("high_score",parseInt(e)>parseInt(a)?e:a)}const o=this.add.text(800,675,"돌아가기",{fontSize:112.5,color:"#ff0000",fontFamily:"StudyHard"}).setOrigin(.5);o.visible=!1,this.time.addEvent({delay:1500,callback:()=>{o.visible=!0,o.setInteractive()},loop:!1}),o.on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scene.start("MainMenu")})),o.on("pointerover",(()=>{this.scene.scene.tweens.add({targets:o,scale:1.1,duration:100})})),o.on("pointerout",(()=>{this.scene.scene.tweens.add({targets:o,scale:1,duration:100})})),this.sound.getAllPlaying().forEach((e=>{e.stop()}));const n=parseInt(a);n<5e3?this.sound.play("score_05",{volume:.7}):n<1e4?this.sound.play("score_10",{volume:.7}):n<15e3?this.sound.play("score_15",{volume:.7}):n<2e4?this.sound.play("score_20",{volume:.7}):n<25e3?this.sound.play("score_25",{volume:.7}):n<3e4?this.sound.play("score_30",{volume:.7}):n<35e3?this.sound.play("score_35",{volume:.7}):n<1e5?this.sound.play("score_40",{volume:.7}):this.sound.play("score_100",{volume:.7}),this.sound.play("GameOver_bgm_"+Math.floor(4*Math.random()),{volume:.3})}static preload(e){e.load.setPath("assets/GameOver"),e.load.audio("score_05","voice_6.wav"),e.load.audio("score_10","voice_0.wav"),e.load.audio("score_15","voice_1.wav"),e.load.audio("score_20","voice_4.wav"),e.load.audio("score_25","voice_10.wav"),e.load.audio("score_30","voice_8.wav"),e.load.audio("score_35","voice_2.wav"),e.load.audio("score_40","voice_3.wav"),e.load.audio("score_100","voice_11.wav"),e.load.audio("GameOver_bgm_0","Carpe Diem.mp3"),e.load.audio("GameOver_bgm_1","Flying Kerfuffle.mp3"),e.load.audio("GameOver_bgm_2","Carefree.mp3"),e.load.audio("GameOver_bgm_3","Pixel Peeker Polka - faster.mp3"),e.load.audio("screenshot","camera-13695.mp3")}}class A extends t.Scene{constructor(){super("Preloader")}init(){this.add.rectangle(800,450,800,28.125).setStrokeStyle(1,5724278);const e=this.add.rectangle(400,450,0,28.125,5724278);this.load.on("progress",(t=>{e.width=800*t}))}preload(){this.load.font("Jalnan","https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.2/JalnanOTF00.woff"),this.load.font("StudyHard","https://fastly.jsdelivr.net/gh/projectnoonnu/2411-3@1.0/Ownglyph_StudyHard-Rg.woff2"),this.load.font("ChosunGs","https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGs.woff"),this.load.font("NoonnuBasicGothicRegular","https://fastly.jsdelivr.net/gh/projectnoonnu/noon-2410@1.0/NoonnuBasicGothicRegular.woff2"),I.preload(this),y.preload(this),b.preload(this)}create(){let e=localStorage.getItem("master_volume")||"5",t=parseInt(e);this.sound.setVolume(.2*t),this.scene.start("MainMenu")}}class M extends t.Scene{constructor(){super("Boot")}preload(){}create(){console.log("억까 신고는 https://cafe.naver.com/virtualidol/3773 에 댓글로 부탁드립니다."),this.scene.start("Preloader")}}class T extends t.Scene{constructor(){super("Recipe")}create(){this.add.rectangle(800,450,a,s,16777215,.7).setOrigin(.5),this.add.graphics().fillStyle(16777215,1).fillRoundedRect(160,90,1280,720,30).setDepth(0),this.add.text(320,135,`${n.KORA_TTEOKBOKKI}: ${i.POT} + ${o.WATER} + ${o.RICE_CAKE} + ${o.SAUCE} [+ 갖은 양념]\n${n.JAKO_RAMEN}: ${i.POT} + ${o.WATER} + ${o.NOODLE} + ${o.RAMEN_SOUP} [+ 갖은 양념]\n\n${n.NANDE_SUNDAE}: ${i.STEAMER} + ${o.WATER} + ${o.SUNDAE}\n${n.DAEDU_DUMPLING}: ${i.STEAMER} + ${o.WATER} + ${o.DUMPLING}\n\n${n.TAP_WATER}: ${i.CUP} + ${o.WATER}\n${n.URU_CIDER}: ${i.CUP} + ${o.CIDER}\n${n.KORA_COLA}: ${i.CUP} + ${o.COLA}`,{fontSize:50,color:"#000000",fontFamily:"StudyHard"}),this.add.zone(800,450,a,s).setOrigin(.5).setInteractive();const e=this.add.text(800,742.5,"닫기",{fontSize:45,color:"#ff0000",fontFamily:"Jalnan"}).setOrigin(.5);e.setInteractive(),e.on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scene.stop()})),e.on("pointerover",(()=>{this.scene.scene.tweens.add({targets:e,scale:1.1,duration:100})})),e.on("pointerout",(()=>{this.scene.scene.tweens.add({targets:e,scale:1,duration:100})}))}}class C extends t.GameObjects.Container{constructor(e,t,a,s,i){super(e,t,a),e.add.existing(this),this.add([e.add.text(0,0,s,{fontSize:56.25,color:"#000000",fontFamily:"NoonnuBasicGothicRegular"}).setOrigin(.5).setPadding(10),e.add.text(0,112.5,i,{fontSize:112.5,color:"#000000",fontFamily:"NoonnuBasicGothicRegular"}).setOrigin(.5).setPadding(10)])}}class R extends t.GameObjects.Container{constructor(e,t,a,s,i){super(e,t,a),e.add.existing(this),this.add([new C(e,0,225,"기획/개발","실력발휘"),new C(e,0,765,"목소리","하야사카 레이"),new C(e,0,1305,"효과음 제공","피디님"),e.add.text(0,1845,"출처 표기",{fontSize:56.25,color:"#000000",fontFamily:"NoonnuBasicGothicRegular",wordWrap:{width:.9*s}}).setOrigin(.5).setPadding(10),e.add.text(0,2045,["(주)여기어때컴퍼니가 제공한 여기어때 잘난체,\n(주)조선일보사에서 제공한 조선궁서체,\n(주)보이저엑스에서 제공한 온글잎 공부잘하자나,\n눈누X토끼네활자공장에서 제공한 눈누 기초고딕이 적용되어 있습니다.",'"Carefree", "Carpe Diem", "Fig Leaf Rag", "Five Card Shuffle", "Flying Kerfuffle", "Hyperfun", "Look Busy", "Pixel Peeker Polka - faster", "Radio Martini", "Wallpaper"\nKevin MacLeod (incompetech.com)\nLicensed under Creative Commons: By Attribution 3.0\nhttp://creativecommons.org/licenses/by/3.0/\nSound Effect by irinairinafomicheva from Pixabay'],{fontSize:28.125,color:"#000000",align:"center",fontFamily:"NoonnuBasicGothicRegular",wordWrap:{width:.9*s}}).setOrigin(.5).setPadding(10),e.add.text(0,2385,".",{fontSize:56.25,color:"#000000",fontFamily:"ChosunGs"}).setOrigin(.5).setPadding(10),e.add.text(0,2493,".",{fontSize:56.25,color:"#000000",fontFamily:"ChosunGs"}).setOrigin(.5).setPadding(10),e.add.text(0,2601,".",{fontSize:56.25,color:"#000000",fontFamily:"ChosunGs"}).setOrigin(.5).setPadding(10),e.add.text(0,2925,"끝으로...\n게임 제작을 허락해주신 피디님께\n다시 한 번 감사드립니다.",{fontSize:56.25,color:"#000000",fontFamily:"ChosunGs",wordWrap:{width:.9*s}}).setOrigin(.5).setPadding(10)])}}class k extends t.Scene{constructor(){super("Credits")}create(){this.add.rectangle(800,450,a,s,16777215,.7).setOrigin(.5),this.add.graphics().fillStyle(16777215,1).fillRoundedRect(160,90,1280,720,30).setDepth(0);const e=this.add.graphics().fillStyle(16777215,1).fillRoundedRect(240,135,1120,540,22.5),i=new t.Display.Masks.GeometryMask(this,e);this.content=new R(this,800,450,1280,720),this.content.setMask(i),this.add.zone(800,450,a,s).setOrigin(.5).setInteractive();const o=this.add.text(800,742.5,"닫기",{fontSize:45,color:"#000000",fontFamily:"Jalnan"}).setOrigin(.5);o.setInteractive(),o.on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scene.stop()})),o.on("pointerover",(()=>{o.text="플레이해 주셔서 감사합니다 ^^"})),o.on("pointerout",(()=>{o.text="닫기"}))}update(){this.content&&this.content.y>-2520&&(this.content.y-=2)}}class P extends t.Scene{constructor(){super("Settings")}create(){this.add.rectangle(800,450,a,s,16777215,.7).setOrigin(.5),this.add.graphics().fillStyle(16777215,1).fillRoundedRect(160,90,1280,720,30).setDepth(0),this.add.zone(800,450,a,s).setOrigin(.5).setInteractive();let e=localStorage.getItem("master_volume")||"5",i=parseInt(e);this.add.text(a/3,360,"마스터 볼륨",{fontSize:45,color:"#000000",fontFamily:"Jalnan"}).setOrigin(.5);const o=this.add.text(3200/3,360,e,{fontSize:90,color:"#ffffff",fontFamily:"Jalnan",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setScale(.5+.1*i*.7);this.add.text(3200/3-160,360,"작게",{fontSize:45,color:"#ffffff",fontFamily:"Jalnan",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setInteractive().on("pointerup",(()=>{i=parseInt(e),i=Math.max(0,i-1),this.sound.setVolume(.1*i),e=i.toString(),localStorage.setItem("master_volume",e),o.setText(e),o.setScale(.5+.1*i*.7)})),this.add.text(3200/3+160,360,"크게",{fontSize:45,color:"#ffffff",fontFamily:"Jalnan",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setInteractive().on("pointerup",(()=>{i=parseInt(e),i=Math.min(10,i+1),this.sound.setVolume(.2*i),e=i.toString(),localStorage.setItem("master_volume",e),o.setText(e),o.setScale(.5+.1*i*.7)})),localStorage.setItem("master_volume",e.toString()),this.add.text(a/3,495,"전체화면",{fontSize:45,color:"#000000",fontFamily:"Jalnan"}).setOrigin(.5);const n=this.add.text(3200/3,495,this.scale.isFullscreen?"끄기":"켜기",{fontSize:45,color:"#ffffff",fontFamily:"Jalnan",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setInteractive().on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scale.isFullscreen?(this.scale.stopFullscreen(),n.setText("켜기")):(this.scale.startFullscreen(),n.setText("끄기"),screen.orientation.lock(t.Scale.Orientation.LANDSCAPE).catch((()=>{})))})),r=this.add.text(800,742.5,"닫기",{fontSize:45,color:"#ff0000",fontFamily:"Jalnan"}).setOrigin(.5);r.setInteractive(),r.on("pointerup",(()=>{this.sound.play("tap1",{volume:.4}),this.scene.stop()})),r.on("pointerover",(()=>{this.scene.scene.tweens.add({targets:r,scale:1.1,duration:100})})),r.on("pointerout",(()=>{this.scene.scene.tweens.add({targets:r,scale:1,duration:100})}))}}const D={type:t.AUTO,parent:"game-container",width:a,height:s,backgroundColor:"#ffe8ee",scale:{mode:t.Scale.FIT,autoCenter:t.Scale.CENTER_BOTH},fullscreenTarget:"game-container",preserveDrawingBuffer:!0,scene:[M,A,I,y,T,k,P,b]};document.addEventListener("DOMContentLoaded",(()=>{new t.Game(D)}));
