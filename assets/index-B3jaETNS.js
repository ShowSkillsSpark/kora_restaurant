import{r as t}from"./phaser-y5S3hZEA.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var e=t();class s extends e.Scene{constructor(){super("Preloader")}init(){this.add.rectangle(600,450,600,40).setStrokeStyle(1,16777215);const t=this.add.rectangle(302,450,4,36,16777215);this.load.on("progress",(e=>{t.width=4+592*e}))}preload(){this.load.font("Jalnan","https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.2/JalnanOTF00.woff"),this.load.font("StudyHard","https://fastly.jsdelivr.net/gh/projectnoonnu/2411-3@1.0/Ownglyph_StudyHard-Rg.woff2")}create(){this.scene.start("MainMenu")}}const n=1600;class i extends e.GameObjects.Container{constructor(t,e,s,n,i,a){super(t,e,s),t.add.existing(this),this.setSize(n,i);const r=t.add.graphics().fillStyle(5724278,.5).fillRoundedRect(-n/2,-i/2,n,i,.3*i).setDepth(0);this.add([r,t.add.text(0,0,a,{fontFamily:"Jalnan",fontSize:"60px",color:"#ffffff"}).setOrigin(.5).setDepth(1).setPadding(20)]),this.on("pointerover",(()=>{t.tweens.add({targets:this,scale:1.2,duration:50})})),this.on("pointerout",(()=>{t.tweens.add({targets:this,scale:1,duration:50})}))}}class a extends e.GameObjects.Container{constructor(t,e,s){super(t,e,s),t.add.existing(this);const n=t.add.text(-250,-100,"신장개업",{fontFamily:"Jalnan",fontSize:"60px",color:"#ee0000",stroke:"#000000",strokeThickness:2,shadow:{offsetX:5,offsetY:5,blur:5,stroke:!1}}).setOrigin(.5).setDepth(1).setPadding(20).setAngle(-5),i=t.add.text(0,0,"코 라 분 식",{fontFamily:"Jalnan",fontSize:"150px",color:"#ffffff",stroke:"#000000",strokeThickness:4,shadow:{offsetX:5,offsetY:5,blur:5,stroke:!1}}).setOrigin(.5).setDepth(1).setPadding(20);this.add([i,n])}}class r extends e.Scene{constructor(){super("MainMenu")}preload(){}create(){new a(this,800,300);const t=n/3;new i(this,800,450,t,90,"영업 시작").setInteractive().on("pointerup",(()=>{this.scene.start("MainGame")})),new i(this,800,585,t,90,"레시피").setInteractive().on("pointerup",(()=>{this.scene.start("Recipe")})),new i(this,800,720,t,90,"크레딧").setInteractive().on("pointerup",(()=>{this.scene.start("Credits")})),this.scene.start("MainGame")}}class o extends e.GameObjects.Container{constructor(t,e,s,n,i){super(t,e,s),t.add.existing(this);const a=t.add.text(-n/4-100,0,"남은 시간",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5);this.time=t.add.text(-n/4+100,0,"90초",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setPadding(10),this.add([a,this.time]);const r=t.add.text(n/4-100,0,"매출",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5);this.earn=t.add.text(n/4+100,0,"5,000원",{fontSize:i/2,color:"#ffffff",fontFamily:"StudyHard",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setPadding(10),this.add([r,this.earn])}}class d extends e.GameObjects.Container{constructor(t,e,s,n,i){super(t,e,s),t.add.existing(this);const a=t.add.image(0,-i/10,"talk").setOrigin(.5);a.setScale(n/a.width,i/a.height*.7),this.text=t.add.text(0,-3*i/20,"코라떡볶이 1인분이랑,\n수돗물 1컵 주세요",{fontSize:.15*i,color:"#000000",fontFamily:"StudyHard",wordWrap:{width:n-20}}).setOrigin(.5).setPadding(10),this.face=t.add.image(0,5*i/20,"smile").setOrigin(.5),this.face.setScale(i/this.face.height*.25);const r=t.add.zone(0,0,n,i).setRectangleDropZone(n,i).setName("order");r.setData("order",this),this.add([a,this.text,this.face,r])}static preload(t){t.load.setPath("assets"),t.load.image("talk","fukidashi_pop06.png"),t.load.image("smile","mark_face_smile.png"),t.load.image("jito","mark_face_jito.png"),t.load.image("ase","mark_face_ase.png"),t.load.image("angry","mark_face_angry.png"),t.load.image("cry","mark_face_cry.png"),t.load.image("laugh","mark_face_laugh.png"),t.load.image("tere","mark_face_tere.png"),t.load.image("hehe","mark_face_hehe.png")}}class h extends e.GameObjects.Container{constructor(t,s,n,i,a){super(t,s,n),t.add.existing(this);const r=t.add.graphics().fillStyle(16777215,1).fillPoints([new e.Geom.Point(-i/2+i/20,-a/2+a/5),new e.Geom.Point(-i/2-i/20,a/2),new e.Geom.Point(i/2+i/20,a/2),new e.Geom.Point(i/2-i/20,-a/2+a/5)]);this.add([r])}}class c extends e.GameObjects.Container{constructor(t,e,s,n,i,a){super(t,e,s),t.add.existing(this),this.returnX=e,this.returnY=s,this.name=a;const r=t.add.rectangle(0,0,n,i,16777215).setOrigin(.5).setStrokeStyle(5,0),o=t.add.text(0,0,a,{fontSize:i/2,color:"#ff0000",fontFamily:"StudyHard"}).setOrigin(.5).setPadding(10);this.add([r,o]),this.setSize(n,i).setInteractive({draggable:!0}),this.on("dragstart",(e=>{t.children.bringToTop(this)})),this.on("drag",((t,e,s)=>{this.setPosition(e,s)})),this.on("dragend",((t,e,s,n)=>{this.setPosition(this.returnX,this.returnY)})),this.on("drop",((t,e)=>{const s=e.getData("tool");s&&s.putIngredient(this.name),this.setPosition(this.returnX,this.returnY)}))}}class l extends e.GameObjects.Container{constructor(t,e,s,n,i,a){super(t,e,s),t.add.existing(this),this.width=n,this.height=i,this.name=a;const r=t.add.rectangle(0,0,n,i,16777215).setOrigin(.5).setStrokeStyle(5,0),o=t.add.text(0,0,a,{fontSize:i/2,color:"#000000",fontFamily:"StudyHard"}).setOrigin(.5).setPadding(10);this.add([r,o])}createIngredients(){const t=this.parentContainer.x+this.x,e=this.parentContainer.y+this.y,s=.8*this.width,n=.8*this.height;new c(this.scene,t,e,s,n,this.name),new c(this.scene,t,e,s,n,this.name)}}class g extends e.GameObjects.Container{constructor(t,e,s,n,i,a){super(t,e,s),t.add.existing(this),this.name=a;const r=t.add.rectangle(0,0,n,i,16777215).setOrigin(.5).setStrokeStyle(5,0),o=t.add.text(0,0,a,{fontSize:i/2,color:"#000000",fontFamily:"StudyHard"}).setOrigin(.5).setPadding(10),d=t.add.zone(0,0,n,i).setRectangleDropZone(n,i).setName("tap");d.setData("tool",null),this.add([r,o,d])}}class u extends e.GameObjects.Container{constructor(t,e,s,n,i){super(t,e,s),t.add.existing(this);const a=new l(t,-7*n/16,0,n/8,i/2,"떡"),r=new l(t,-5*n/16,0,n/8,i/2,"특제소스"),o=new l(t,-3*n/16,0,n/8,i/2,"어묵"),d=new l(t,-1*n/16,0,n/8,i/2,"파"),h=new g(t,3*n/16,0,n/8,i/2,"수돗물"),c=new g(t,5*n/16,0,n/8,i/2,"사이다"),u=new g(t,7*n/16,0,n/8,i/2,"콜라");this.add([a,r,o,d,h,c,u]),[a,r,o,d].forEach((t=>{t.createIngredients()}))}}class f extends e.GameObjects.Container{constructor(t,e,s,n,i){super(t,e,s),t.add.existing(this);const a=t.add.rectangle(0,0,n,i,16777215).setOrigin(.5).setStrokeStyle(5,0),r=t.add.text(0,0,"버너",{fontSize:i/2,color:"#000000",fontFamily:"StudyHard"}).setOrigin(.5).setPadding(10),o=t.add.zone(0,0,n,i).setRectangleDropZone(n,i).setName("burner");o.setData("tool",null),this.add([a,r,o])}}class p extends e.GameObjects.Container{constructor(t,e,s,n,i){super(t,e,s),t.add.existing(this);const a=t.add.rectangle(0,0,n,i,16777215).setOrigin(.5).setStrokeStyle(5,0),r=t.add.text(0,0,"쓰레기통",{fontSize:i/2,color:"#000000",fontFamily:"StudyHard"}).setOrigin(.5).setPadding(10),o=t.add.zone(0,0,n,i).setRectangleDropZone(n,i).setName("trash");this.add([a,r,o])}}class m extends e.GameObjects.Container{constructor(t,e,s,n,i,a){super(t,e,s),this.lastZone=null,this.box=new Set,t.add.existing(this),this.toolX=e,this.toolY=s,this.returnX=e,this.returnY=s,this.name=a;const r=t.add.rectangle(0,0,n,i,16777215).setOrigin(.5).setStrokeStyle(5,0),o=t.add.text(0,-i/4,a,{fontSize:i/2,color:"#ff0000",fontFamily:"StudyHard"}).setOrigin(.5).setPadding(10);this.box_text=t.add.text(0,i/4,"",{fontSize:i/4,color:"#ff0000",fontFamily:"StudyHard",wordWrap:{width:.9*n}}).setOrigin(.5).setPadding(10),this.add([r,o,this.box_text]),this.setSize(n,i).setInteractive({draggable:!0}),this.on("dragstart",(e=>{t.children.bringToTop(this)})),this.on("drag",((t,e,s)=>{this.setPosition(e,s)})),this.on("dragend",((t,e,s,n)=>{n||this.setPosition(this.returnX,this.returnY)})),this.on("drop",((t,e)=>{var s,n,i;switch(e.name){case"burner":"컵"===this.name||e.getData("tool")||(null==(s=this.lastZone)||s.setData("tool",null),e.setData("tool",this),this.lastZone=e,this.returnX=e.parentContainer.parentContainer.x+e.parentContainer.x+e.x,this.returnY=e.parentContainer.parentContainer.y+e.parentContainer.y+e.y),this.setPosition(this.returnX,this.returnY);break;case"tap":e.getData("tool")?this.setPosition(this.returnX,this.returnY):(null==(n=this.lastZone)||n.setData("tool",null),e.setData("tool",this),this.lastZone=e,this.returnX=e.parentContainer.parentContainer.x+e.parentContainer.x+e.x,this.returnY=e.parentContainer.parentContainer.y+e.parentContainer.y+e.y,this.setPosition(this.returnX,this.returnY),this.putIngredient(e.parentContainer.name));break;case"trash":this.initTool();break;case"order":null==(i=this.lastZone)||i.setData("tool",null),this.lastZone=e,this.returnX=e.parentContainer.x+e.x,this.returnY=e.parentContainer.y+e.y,this.setPosition(this.returnX,this.returnY),this.setInteractive({draggable:!1})}}))}putIngredient(t){this.box.add(t),this.box_text.setText(Array.from(this.box).join(" "))}clearIngredient(){this.box.clear(),this.box_text.setText("")}initTool(){var t;null==(t=this.lastZone)||t.setData("tool",null),this.lastZone=null,this.returnX=this.toolX,this.returnY=this.toolY,this.setPosition(this.returnX,this.returnY),this.clearIngredient()}}class x extends e.GameObjects.Container{constructor(t,e,s,n,i,a){super(t,e,s),t.add.existing(this),this.scene=t,this.width=n,this.height=i,this.name=a;const r=t.add.rectangle(0,0,n,i,16777215).setOrigin(.5).setStrokeStyle(5,0),o=t.add.text(0,0,a,{fontSize:i/2,color:"#000000",fontFamily:"StudyHard"}).setOrigin(.5).setPadding(10);this.add([r,o])}createTools(){const t=this.parentContainer.x+this.x,e=this.parentContainer.y+this.y,s=.8*this.width,n=.8*this.height;new m(this.scene,t,e,s,n,this.name),new m(this.scene,t,e,s,n,this.name),new m(this.scene,t,e,s,n,this.name),new m(this.scene,t,e,s,n,this.name)}}class y extends e.GameObjects.Container{constructor(t,e,s,n,i){super(t,e,s),t.add.existing(this);const a=new f(t,-7*n/16,0,n/8,i/2),r=new f(t,-5*n/16,0,n/8,i/2),o=new f(t,-3*n/16,0,n/8,i/2),d=new f(t,-1*n/16,0,n/8,i/2),h=new x(t,1*n/16,0,n/8,i/2,"냄비"),c=new x(t,3*n/16,0,n/8,i/2,"찜기"),l=new x(t,5*n/16,0,n/8,i/2,"컵"),g=new p(t,7*n/16,0,n/8,i/2);this.add([a,r,o,d,h,c,l,g]),[h,c,l].forEach((t=>{t.createTools()}))}}class S extends e.Scene{constructor(){super("MainGame")}preload(){d.preload(this)}create(){new o(this,800,45,n,90),new d(this,200,225,400,360),new d(this,600,225,400,360),new d(this,1e3,225,400,360),new d(this,1400,225,400,360),new h(this,800,405,n,90),new u(this,800,540,n,180),new y(this,800,765,n,270)}}class w extends e.Scene{constructor(){super("GameOver")}create(){}}class O extends e.Scene{constructor(){super("GameClear")}create(){}}const k={type:e.AUTO,parent:"game-container",width:n,height:900,backgroundColor:"#ffe8ee",scale:{mode:e.Scale.FIT,autoCenter:e.Scale.CENTER_BOTH},scene:[s,r,S,w,O]};document.addEventListener("DOMContentLoaded",(()=>{new e.Game(k)}));
